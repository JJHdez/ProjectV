{% extends "UL/layout.html" %}

{% block layout_title %}
    Se tu mismo
{% endblock %}

{% block css %}
<style>
    .background-dream{
        width: 270px;
        background: url('/images/xishan.jpg') center / cover;
    }
    .background-habit{
        width: 170px;
        background: url('/images/texture_006_by_kuschelirmel_stock.jpg') center / cover;
    }
    .background-pending{
        width: 250px;
        background: url('/images/watercolour_texture_by_summer__moon.jpg') center / cover;
    }
</style>
{% endblock %}

{% block body %}
<div class="mdl-grid demo-content">

    <div class="mdl-tabs mdl-js-tabs mdl-js-ripple-effect">

        <div class="mdl-tabs__tab-bar">
            <a href="#dreams-panel" class="mdl-tabs__tab is-active"><i class="material-icons">hdr_strong</i></a>
            <a href="#habits-panel" class="mdl-tabs__tab"><i class="material-icons">gavel</i></a>
            <a href="#pending-panel" class="mdl-tabs__tab"><i class="material-icons">list</i></a>
        </div>
        <!--Panel dream-->
        <div class="mdl-tabs__panel is-active" id="dreams-panel">
            <div class="mdl-color--white mdl-shadow--2dp mdl-cell mdl-cell--12-col mdl-grid" >
                <p v-if="!dreams.length">No hay objectivos registrados</p>
                <div v-for="(dream, index) in dreams">
                    <div class="background-dream mdl-card mdl-shadow--2dp">
                        <div class=" mdl-card__title">
                            <h2 class="mdl-card__title-text">
                                ${dream.name}
                            </h2>
                        </div>
                        <div class="mdl-card__supporting-text">
                            <span class="mdl-chip mdl-chip--contact" v-if="dream.created_at">
                                <i class="mdl-chip__contact material-icons">play_arrow</i>
                                <span class="mdl-chip__text">${dream.created_at}</span>
                            </span>
                            <span class="mdl-chip mdl-chip--contact" v-if="dream.due_date_at">
                                <i class="mdl-chip__contact material-icons">stop</i>
                                <span class="mdl-chip__text">${dream.due_date_at}</span>
                            </span>
                        </div>
                        <div class="mdl-card__actions mdl-card--border">
                            <button v-on:click="_edit(dream,index)" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--raised mdl-button--colored">
                                Editar
                            </button>
                            <button v-on:click="_done(dream,index)" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
                                <i class="material-icons">done</i>
                            </button>
                        </div>
                    </div>
                </div><!--End for-->

            </div>
            <!-- Dialog dreams-->
            <dialog id="dream-dialog" class="mdl-dialog mdl-cell--4-col">
                <h4 class="mdl-dialog__title"> <i class="material-icons">hdr_strong</i>Objectivo</h4>
                <div class="mdl-dialog__content">
                    <form action="#">
                        <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                            <input class="mdl-textfield__input" type="text" id="name" v-model="dreamModel.name" required="True">
                            <label class="mdl-textfield__label" for="name">Nombre del objectivo</label>
                        </div>
                        <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                            <input class="mdl-textfield__input" type="date" id="due_date_at" v-model="dreamModel.due_date_at">
                            <label class="mdl-textfield__label" for="due_date_at">Fecha a completar</label>
                        </div>
                    </form>
                </div>
                <div class="mdl-dialog__actions">
                    <button v-show="validationDreamModel.accept"
                            class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--colored"
                            id="dream-dialog-accept">Aceptar</button>
                    <button v-show="validationDreamModel.remove" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect"
                            id="dream-dialog-remove">Eliminar</button>
                    <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent"
                    id="dream-dialog-cancel">Cancelar</button>

                </div>
            </dialog>
        </div>
        <!--End panel dream-->
        <!--Panel habit-->
        <div class="mdl-tabs__panel" id="habits-panel">
            <div class="mdl-grid mdl-cell mdl-shadow--2dp mdl-color--white mdl-cell--12-col">
                <p v-if="!habits.length">No hay habitos registrados</p>
                <div v-for="(habit, index) in habits">
                    <div class="background-habit mdl-card mdl-shadow--4dp">
                        <div class=" mdl-card__title">
                            <h2 class="mdl-card__title-text">
                                ${habit.name}
                            </h2>
                        </div>
                        <div class="mdl-card__supporting-text">
                            <div class="material-icons mdl-badge mdl-badge--overlap"  v-bind:data-badge="habit.success">done</div>
                            <div class="material-icons mdl-badge mdl-badge--overlap" v-bind:data-badge="habit.fail">clear</div>
                        </div>
                        <div class="mdl-card__actions mdl-card--border">
                            <a v-on:click="_edit(habit,index)"
                               class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect">
                                Editar
                            </a>
                            <a v-on:click="_done(habit,index)"
                               class="mdl-button mdl-button--icon mdl-js-button mdl-js-ripple-effect">
                                <i class="material-icons md-36">${_icon_done(habit.success, habit.fail)}</i>
                            </a>
                        </div>
                    </div>
                    <div class="mdl-layout-spacer"></div>
                </div>
            </div>
            <!--Dialog box habit-->
            <dialog id="habit-dialog" class="mdl-dialog mdl-cell--4-col">
                <h4 class="mdl-dialog__title"> <i class="material-icons">gavel</i> Habito</h4>
                <div class="mdl-dialog__content">
                    <form >
                        <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                            <input class="mdl-textfield__input" type="text" id="habit-name" v-model="habitModel.name" required>
                            <label class="mdl-textfield__label" for="habit-name">Nombre del habito</label>
                        </div>
                    </form>
                </div>
                <div class="mdl-dialog__actions">
                    <a v-show="validationHabitModel.accept"
                            class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--colored"
                            id="habit-dialog-accept">Aceptar</a>
                    <a v-show="validationHabitModel.remove" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect"
                            id="habit-dialog-remove">Eliminar</a>
                    <a class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent"
                            id="habit-dialog-cancel">Cancelar</a>
                </div>
            </dialog>

        </div>
        <!--End habit panel-->
        <!--Panel pending-->
        <div class="mdl-tabs__panel" id="pending-panel">
            <div class="mdl-grid mdl-cell mdl-shadow--2dp mdl-color--white mdl-cell mdl-cell--12-col">
                <p v-if="!pendings.length">No hay pendientes registrados</p>
                <div v-for="(pending, index) in pendings">
                    <div class="background-pending mdl-card mdl-shadow--2dp">
                        <div class=" mdl-card__title">
                            <h3 class="mdl-card__title-text">
                                ${pending.name}
                            </h3>
                        </div>
                        <div class="mdl-card__actions mdl-card--border">
                            <a v-on:click="_edit(pending,index)"
                               class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect">
                                Editar
                            </a>
                            <a v-on:click="_done(pending,index)"
                               class="mdl-button mdl-button--icon mdl-js-button mdl-js-ripple-effect">
                                <i class="material-icons">done</i>
                            </a>
                        </div>
                    </div>
                    <div class="mdl-layout-spacer"></div>
                </div>
            </div>

            <dialog id="pending-dialog" class="mdl-dialog mdl-cell--4-col">
                <h4 class="mdl-dialog__title"> <i class="material-icons">list</i>Pendiente</h4>
                <div class="mdl-dialog__content">
                    <form>
                        <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                            <input v-model="pendingModel.name" class="mdl-textfield__input" type="text" id="pending-name"
                            required>
                            <label class="mdl-textfield__label" for="pending-name">Nombre del pendiente</label>
                        </div>
                        <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                            <textarea v-model="pendingModel.description" class="mdl-textfield__input" type="text"
                                      rows="2" id="pending-description"></textarea>
                            <label class="mdl-textfield__label" for="pending-description">Descripcion</label>
                        </div>
                    </form>
                </div>
                <div class="mdl-dialog__actions">
                    <a v-show="validationPendingModel.accept"
                       class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--colored"
                       id="pending-dialog-accept">Aceptar</a>
                    <a v-show="validationPendingModel.remove"
                       class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect"
                       id="pending-dialog-remove">Eliminar</a>
                    <a class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent"
                       id="pending-dialog-cancel">Cancelar</a>
                </div>
            </dialog>
        </div>
        <!--End panel pending-->
    </div>
</div>

{% endblock %}

{% block button_fab %}
<ul id="button-fab-yourself" class="mdl-menu mdl-menu--top-right mdl-js-menu mdl-js-ripple-effect" data-mdl-for="add-task">
    <li class="mdl-menu__item" id="show-dream-dialog">
        <button class="mdl-button mdl-js-button mdl-button--fab mdl-button--mini-fab mdl-button--colored">
            <i class="material-icons">hdr_strong</i>
        </button>
    </li>
    <li class="mdl-menu__item" id="show-habit-dialog">
        <button class="mdl-button mdl-js-button mdl-button--fab mdl-button--mini-fab mdl-button--colored">
            <i class="material-icons">gavel</i>
        </button>
    </li>
    <li class="mdl-menu__item" id="show-pending-dialog">
        <button class="mdl-button mdl-js-button mdl-button--fab mdl-button--mini-fab mdl-button--colored">
            <i class="material-icons">list</i>
        </button>
    </li>
</ul>
<a  class="mdl-button mdl-button--colored mdl-color-text--white mdl-button--fab zr-button-fab">
    <i id="add-task" class="material-icons">add</i>
</a>
{% endblock %}

{% block js%}
<script src="/yourself.js" type="application/javascript"></script>
{% endblock %}